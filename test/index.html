<!DOCTYPE html>
<html>
<head>
  <title>SanityChecker.js Dashboard</title>
  <script>
    // create SanityChecker script tag on pageload
    var sanityCheckerScript = document.createElement("script");
    sanityCheckerScript.src = "../sanity-checker.js"

    // check for and apply any custom configuration options
    if (window.location.search) {
      sanityCheckerScript.setAttribute("data-config", window.location.search);
    }

    // inject the SanityChecker script
    document.querySelector("head").appendChild(sanityCheckerScript);
  </script>
</head>
<body>
  <h1>SanityChecker.js Testing Dashboard</h1>

  <!-- START LOCALSTORAGE HELPER  -->
    <strong>1. View Local Storage:</strong>
    <button onclick="localStorage.removeItem('sanityChecker'); displayLocalStorage()">reset localStorage</button>
    <pre></pre>
    <script type="text/javascript">
      function displayLocalStorage() {
        document.querySelector("pre").innerText = localStorage.getItem('sanityChecker') || "null"
      }
      displayLocalStorage();
      window.onclick = displayLocalStorage; // refresh for ALL THE CLICKS (esp. buttons)
    </script>
  <!-- END LOCALSTORAGE HELPER  -->

  <br>
  <br>

  <!-- START CUSTOM CONFIGURATIONS -->
    <strong>2. Apply Custom Configuration Options:</strong><br>
    <p>
      Pre-Set Options: <a href="?title=Custom+Title&message=Custom+Message&image=http%3A%2F%2Fplacehold.it%2F200%2Ff00%3Ftext%3D%5Blogo%5D">Fill All Fields</a>, <a href="?">Reset</a>
    </p>
    <form>
      <input name="title" placeholder="title">
      <input name="message" placeholder="message">
      <input name="image" placeholder="image">
      <input type="submit">
    </form>

    <script>
      // populate form input values from query parameter string in url
      var qp = window.location.search.substr(1);
      qp && qp.split("&").forEach(function(param){
        let pair = param.split("=");
        let input = document.querySelector("input[name=" + pair[0] + "]");
        input && input.setAttribute("value", decodeURIComponent(pair[1]).replace(/\+/g, " "));
      })
    </script>
  <!-- END CUSTOM CONFIGURATIONS -->

  <br>
  <br>

  <!-- START TEST SCRIPT TRIGGERS -->

    <strong>3. Trigger Javascript Errors:</strong><br>
    <li><button onclick="throw new Error('woops')">throw Error</button>
    <li><button onclick="throw new SyntaxError('woops')">throw SyntaxError</button>
    <li><button onclick="throw new ReferenceError('woops')">throw ReferenceError</button>

    <script type="text/javascript">

      function injectExternal(tag, attr, path) {
        var el = document.createElement(tag)
        el[attr] = path;
        document.querySelector("body").appendChild(el);
      }
    </script>

    <li><button onclick="injectExternal('script', 'src', 'broken-app.js')">load broken-app.js</button>
    <li><button onclick="injectExternal('script', 'src', 'i-do-not-exist.js')">load local i-do-not-exist.js</button>
    <li><button onclick="injectExternal('script', 'src', 'http://google.com/i-do-not-exist.js')">load remote i-do-not-exist.js</button>
    <li><button onclick="injectExternal('script', 'src', 'https://ajax.googleapis.com/ajax/libs/angularjs/1.5.2/angular-route.min.js')">load remote script with dependency</button>
    <!-- <li><button onclick="injectExternal('link', 'href', 'i-do-not-exist.css')">i-do-not-exist.css</button> -->

  <!-- END TEST SCRIPT TRIGGERS -->






  <p>
  &lt;-- BEGIN Placeholder text so we can scroll. --&gt;
  </p>

  <p>
    Trust fund hoodie iPhone craft beer jean shorts dreamcatcher biodiesel before they sold out cliche. Vegan seitan thundercats Four Loko tumblr farm-to-table. Blog mixtape stumptown Carles Pitchfork chambray butcher Wayfarers McSweeney's. Squid blog Wayfarers craft beer farm-to-table.
  </p>

  <p>
    More placeholder text so we can scroll. Food truck sartorial cardigan raw denim twee vegan jean shorts you probably haven't heard of them single-origin coffee. Keffiyeh fanny pack tattooed organic fixie Four Loko high life Banksy chambray. Trust fund cardigan single-origin coffee Shoreditch blog mustache synth +1 ethical. Iphone quinoa tumblr you probably haven't heard of them high life gentrify gluten-free Austin.
  </p>


  <p>
    Loko high life Banksy chambray. Trust fund cardigan single-origin coffee Shoreditch blog mustache synth +1 ethical. Iphone quinoa tumblr you probably haven't heard of them high life gentrify gluten-free Austin.
  </p>

  <p>
    Food truck sartorial cardigan raw denim twee vegan jean shorts you probably haven't heard of them single-origin coffee. Keffiyeh fanny pack tattooed organic fixie Four Loko high life Banksy chambray. Trust fund cardigan single-origin coffee Shoreditch blog mustache synth +1 ethical. Iphone quinoa tumblr you probably haven't heard of them high life gentrify gluten-free Austin.
  </p>

  <p>
    Iphone quinoa tumblr you probably haven't heard of them high life gentrify gluten-free Austin.
  </p>

    <p>
    Trust fund hoodie iPhone craft beer jean shorts dreamcatcher biodiesel before they sold out cliche. Vegan seitan thundercats Four Loko tumblr farm-to-table. Blog mixtape stumptown Carles Pitchfork chambray butcher Wayfarers McSweeney's. Squid blog Wayfarers craft beer farm-to-table.
  </p>

  <p>
    Food truck sartorial cardigan raw denim twee vegan jean shorts you probably haven't heard of them single-origin coffee. Keffiyeh fanny pack tattooed organic fixie Four Loko high life Banksy chambray. Trust fund cardigan single-origin coffee Shoreditch blog mustache synth +1 ethical. Iphone quinoa tumblr you probably haven't heard of them high life gentrify gluten-free Austin.
  </p>


  <p>
    Food truck sartorial cardigan raw denim twee vegan jean shorts you probably haven't heard of them single-origin coffee. Keffiyeh fanny pack tattooed organic fixie Four Loko high life Banksy chambray. Trust fund cardigan single-origin coffee Shoreditch blog mustache synth +1 ethical. Iphone quinoa tumblr you probably haven't heard of them high life gentrify gluten-free Austin.
  </p>

  <p>
    Food truck sartorial cardigan raw denim twee vegan jean shorts you probably haven't heard of them single-origin coffee. Keffiyeh fanny pack tattooed organic fixie Four Loko high life Banksy chambray. Trust fund cardigan single-origin coffee Shoreditch blog mustache synth +1 ethical. Iphone quinoa tumblr you probably haven't heard of them high life gentrify gluten-free Austin.
  </p>

  <p>
    Food truck sartorial cardigan raw denim twee vegan jean shorts you probably haven't heard of them single-origin coffee. Keffiyeh fanny pack tattooed organic fixie Four Loko high life Banksy chambray. Trust fund cardigan single-origin coffee Shoreditch blog mustache synth +1 ethical. Iphone quinoa tumblr you probably haven't heard of them high life gentrify gluten-free Austin.
  </p>

  <p>
    &lt;-- END Placeholder text so we can scroll. --&gt;
  </p>
</body>
</html>
